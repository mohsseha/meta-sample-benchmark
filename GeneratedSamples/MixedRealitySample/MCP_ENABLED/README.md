# Mixed Reality Sample - Physical Environment Interaction App

This project is a sample application for the Meta Spatial SDK v0.8.0 that demonstrates how to create a mixed reality experience where users can interact with their physical environment. The application allows users to shoot virtual basketballs at targets on their room's walls, with realistic physics interactions.

## Features

*   **Mixed Reality Experience**: See your actual physical room with virtual objects seamlessly integrated.
*   **Scene Understanding**: The application uses the Mixed Reality Utility Kit (MRUK) to understand the geometry of your room.
*   **Physics Simulation**: Virtual basketballs bounce realistically off detected physical surfaces like walls, floors, and ceilings.
*   **Object Interaction**: Spawn and shoot virtual basketballs using VR controllers.
*   **Permission Handling**: The application demonstrates the correct way to request and handle the necessary permissions for scene understanding.

## Project Structure

The project follows a standard Android application structure. The core logic is separated into the following managers:

*   `MrukManager`: Handles the integration with the Mixed Reality Utility Kit (MRUK), including loading scene data and creating procedural meshes for the room surfaces.
*   `PhysicsManager`: Manages the physics simulation, including creating rigid bodies for the virtual objects and the room surfaces, and updating the simulation each frame.
*   `ObjectManager`: Spawns and manages the virtual objects in the scene, such as the basketballs and targets.
*   `MainActivity`: The main entry point of the application, which initializes the managers and runs the main loop.

## How to Build and Run

**Prerequisites:**

*   Android Studio with the Android SDK.
*   A Meta Quest 2, 3, or Pro headset.
*   The Meta Spatial SDK v0.8.0 configured in your development environment.

**Build Steps:**

1.  Clone this repository.
2.  Open the project in Android Studio.
3.  Connect your Meta Quest headset to your computer.
4.  Build and run the application on your headset.

**Note:** This project is a sample and uses mock classes for the Meta Spatial SDK. To build and run the application, you will need to have the actual SDK installed and configured in your project.

## Physics Integration

The application uses a physics engine to simulate the interaction between the virtual basketballs and the physical environment. The `PhysicsManager` class is responsible for:

*   Initializing the physics world with gravity.
*   Creating static collision bodies from the procedural meshes generated by the `MrukManager`. This allows the virtual objects to collide with the real-world geometry.
*   Creating dynamic rigid bodies for the basketballs, with properties like mass and restitution (bounciness).
*   Updating the physics simulation in a fixed time step to ensure stability.

## Mixed Reality Utility Kit (MRUK) Integration

The `MrukManager` class integrates with the MRUK to access scene data from the device. The process is as follows:

1.  **Request Permissions**: The application requests the `USE_SCENE` permission from the user.
2.  **Load Scene Data**: Once the permission is granted, the `MrukManager` calls the `loadSceneFromDevice` method to retrieve the scene model.
3.  **Process Scene Model**: The scene model contains information about the room's geometry, including walls, floor, and ceiling. The `MrukManager` processes this data to identify the surfaces.
4.  **Create Procedural Meshes**: For each surface, the `MrukManager` creates a procedural mesh using the `AnchorProceduralMesh` class. These meshes are then used by the `PhysicsManager` to create the collision geometry.
